jQuery(document).ready(function(){var e=jQuery;e(".loading").hide(),e(".toggle-tab").on("click",function(){e(".toggle-tab").not(this).removeClass("visible"),e(this).addClass("visible");var t=e(this).attr("data-id");e(".lcwp-admin__section").hide(),e("#"+t).show()}),e(".featured_event").each(function(){e(this).find(".checkbox").find('input[type="checkbox"]').on("change",function(){var t=this.checked?"yes":"no";"yes"==t&&e(this).siblings('input[type="hidden"]').removeAttr("disabled"),"no"==t&&e(this).siblings('input[type="hidden"]').attr("disabled","disabled")})}),e(window).scroll(function(){e(window).scrollTop()>=200?e("fieldset.submit").addClass("fixed"):e("fieldset.submit").removeClass("fixed")}),e("form.featured_events_form").on("submit",function(t){e(this).addClass("hidden"),e(".loading").fadeIn();var i=[];t.preventDefault();var n=e(this).find('input[name="feed_name"]').val();e.each(e(".featured_event"),function(){if(e(this).find(".checkbox").find('input[type="checkbox"]').is(":checked")){var t=e(this).find('input[name="event_date[]"]').val(),d=e(this).find('input[name="event_title[]"]').val(),s=e(this).find('input[name="event_id[]"]').val();i.push({event_date:t,event_title:d,event_id:s,feed_name:n})}}),e.ajax({type:"post",data:{action:"libcal_get_events",data:i},url:ajaxurl,success:function(t){e(".loading").hide(),e("form.featured_events_form").removeClass("hidden"),alert("Your events were submitted. Cool!")}})}),e(".view-selected-events").on("click",function(){e("form.featured_events_form, form.delete_events").addClass("hidden"),e(".feed_list .list li").remove(),e(this).addClass("selected"),e(".select-events").removeClass("selected"),e(".loading").fadeIn(),e("fieldset.event_delete").remove(),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_feed_list"},success:function(t){e(".loading").hide(),console.log(t),e(".feed_list .list").prepend(t),e(".feed_list").removeClass("hidden")}})}),e(".select-events").on("click",function(){e(".loading").fadeIn(),e(this).addClass("selected"),e(".view-selected-events").removeClass("selected"),e("form.delete_events").addClass("hidden"),e("form.featured_events_form").removeClass("hidden"),e(".loading").hide()}),e("form.delete_events").on("change",".delete",function(){var t=this.checked?"yes":"no";console.log(t),"yes"==t&&e(this).siblings('input[type="hidden"]').removeAttr("disabled"),"no"==t&&e(this).siblings('input[type="hidden"]').attr("disabled","disabled")}),e("form.delete_events").on("submit",function(t){t.preventDefault(),e(this).addClass("hidden"),formData=[],e(".loading").show();var i=e(this).find('input[name="feed_name"]').val();e("form.delete_events fieldset.event_delete").each(function(){if(e(this).find('input[type="checkbox"]').is(":checked")){var t=e(this).find('input[name="event_id"]').val();formData.push({event_id:t,feed_name:i})}}),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_remove_featured_events",ids:formData},success:function(t){e("fieldset.event_delete").remove(),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_selected_events",fn:i},success:function(t){e(".loading").hide(),e("form.delete_events").prepend(t),e("form.delete_events").removeClass("hidden")}})}})}),e(".delete_old_events").on("click",function(){e(".loading").show(),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_clear_past_events"},success:function(t){e(".loading").hide(),console.log(t)}})}),e(".feed_list").on("click",".delete_feed",function(){var t=e(this).siblings('input[name="feed_name"]').val(),i=[];e(".loading").show(),e(".feed_list").addClass("hidden").find(".list li").remove(),i.push({feed_name:t}),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_delete_feed",fn:i},success:function(t){e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_feed_list"},success:function(t){e(".loading").hide(),e(".feed_list .list").prepend(t),e(".feed_list").removeClass("hidden")}})}})}),e(".feed_list").on("click",".edit_feed",function(){var t=e(this).siblings('input[name="feed_name"]').val();e(".loading").show(),e(".feed_list").addClass("hidden").find(".list li").remove(),[].push({feed_name:t}),e.ajax({type:"POST",url:ajaxurl,data:{action:"libcal_selected_events",fn:t},success:function(t){e("form.delete_events").prepend(t).removeClass("hidden"),e(".loading").hide()}})}),e(".feed_list").on("click",".add_to_feed",function(){var t=e(this).siblings('input[name="feed_name"]').val();e(".loading").show(),e(".feed_list").addClass("hidden"),e("form.featured_events_form").removeClass("hidden"),e("form.featured_events_form").find('fieldset.submit input[type="text"]').val(t),e(".loading").hide()})});